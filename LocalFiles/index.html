<!DOCTYPE html>
<!--
* @file index.html
*
* Template application that shows examples of how to access
* device services from JavaScript using the Wormhole library.
-->
<html>
	<head>
<!-- VIEWPORT STUFF!! 
http://www.mosync.com/content/html-issues
http://www.mosync.com/content/mixing-native-ui-and-html
http://www.quirksmode.org/mobile/viewports.html
http://www.quirksmode.org/mobile/viewports2.html
http://divineprog.github.io/MoSyncGuide/
-->

		<!-- meta name="viewport" content="width=320, user-scalable=no" -->
		<!-- meta name="viewport" content="width=480px, max-width=480px, initial-scale=1, minimum-scale=1 maximum-scale=1 user-scalable=no target-densitydpi=device-dpi" / -->
		<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, minimum-scale=1 maximum-scale=1 user-scalable=no target-densitydpi=device-dpi" /> 
		<meta http-equiv="Content-type" content="text/html; charset=utf-8">
		<title>Wormhole Template App</title>
		<link rel="stylesheet" href="style.css" type="text/css" media="screen" title="no title" charset="utf-8">
		<script type="text/javascript" charset="utf-8" src="js/wormhole.js"></script>

		<!-- ThreeJS -->
		<script src="js/three.min.js"></script>

		<script type="text/javascript">
			var camera, scene, renderer,
			geometry, material, mesh;
			 
			//init();
			//animate();
			 
			function init() {
				scene = new THREE.Scene();
				 
				camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 1, 10000 );
				camera.position.z = 1000;
				 
				geometry = new THREE.CubeGeometry( 200, 200, 200 );
				material = new THREE.MeshBasicMaterial( { color: 0xff0000, wireframe: true } );
				 
				mesh = new THREE.Mesh( geometry, material );
				scene.add( mesh );
				 
				renderer = new THREE.CanvasRenderer();
				renderer.setSize( window.innerWidth, window.innerHeight );
				 
				document.body.appendChild( renderer.domElement );

				animate();
			}
			 
			function animate() {
				// note: three.js includes requestAnimationFrame shim
				requestAnimationFrame( animate );
				render();
			}
			 
			function render() {
				mesh.rotation.x += 0.01;
				mesh.rotation.y += 0.02;
				 
				renderer.render( scene, camera );
			}			

			// Register event listeners.

			// The "deviceready" event is sent when the system
			// has finished loading.
			document.addEventListener(
				"deviceready",
				init,
				true);

			// Close the application when the back key is pressed.
			document.addEventListener(
				"backbutton",
				function() { mosync.app.exit(); },
				true);
		</script>
	</head>
	<body>
		<div id="screen">
			<div class="pane" id="heading">Mosync 'Reload' - ThreeJS Canvas Renderer 3d demo </div>
		</div>
	</body>
</html>
